---
// Components
import Seo from '../components/Seo.astro';
import Header from '../components/Header.astro';
import ErrorBoundary from '../components/ErrorBoundary.jsx';

import NeuralBackground from '../components/NeuralBackground.jsx';
import '../styles/global.css';

export interface Props {
  title: string;
  description?: string;
}

const { title, description } = Astro.props;
const currentPath = Astro.url.pathname;
const isZh = currentPath.startsWith('/zh');
const lang = isZh ? 'zh' : 'en';
const defaultDesc = isZh ? "企业级 AI 解决方案平台" : "Enterprise AI Solution Platform";
---

<!DOCTYPE html>
<html lang={lang}>
  <head>
    <Seo title={title} description={description || defaultDesc} />
  </head>

  <body class="font-inter bg-canvas-white text-text-primary min-h-screen overflow-x-hidden selection:bg-accent-blue selection:text-white antialiased relative">
    <NeuralBackground client:only="react" />
    <Header />
    <ErrorBoundary client:load>
      <main>
        <slot />
      </main>
    </ErrorBoundary>

    <style is:global>
      .glass-nav {
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: saturate(180%) blur(20px);
        border-bottom: 1px solid rgba(0, 0, 0, 0.05);
      }
    </style>
  </body>
</html>
